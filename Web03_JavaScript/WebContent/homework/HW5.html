<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HW5</title>
<link rel="stylesheet" type="text/css" href="../css/naver.css">
</head>
<body>
	<!-- header -->
	<div id="wrap">
		<div id="header">
			<h1>
				<a href="https://www.naver.com" class="logo"></a>
			</h1>
		</div>
		<!-- // header -->
		<!-- 회원가입 content -->
		<form action="joinResult.html" method="post">
			<div class="join_content">
				<!-- 아이디, 비밀번호 -->
				<div class="id_pw">
					<div class="div_id">
						<!-- 아이디 -->
						<h3 class="content_title">
							<label for="id">아이디</label>
						</h3>
						<span class="common_box"> <input type="text" id="id"
							name="id" class="inputBox" title="ID" maxlength="20" /> <span
							class="email"> @naver.com</span>
						</span> <span id="id_confirm" class="confirmBox"></span>
					</div>
					<!-- // 아이디 -->
					<div class="div_pw">
						<!-- 비밀번호 -->
						<h3 class="content_title">
							<label for="pw">비밀번호</label>
						</h3>
						<span class="common_box"> <input type="password" id="pw"
							name="pw" class="inputBox" title="비밀번호 입력" maxlength="20" />
						</span> <span id="pw_confirm" class="confirmBox"></span>
						<!-- 비밀번호 재확인 -->
						<h3 class="content_title">
							<label for="pw2">비밀번호 재확인</label>
						</h3>
						<span class="common_box"> <input type="password" id="pw2"
							name="pw2" class="inputBox" title="비밀번호 재확인 입력" maxlength="20" />
						</span> <span id="pw2_confirm" class="confirmBox"></span>
					</div>
					<!-- // 비밀번호 -->
				</div>
				<!-- // 아이디, 비밀번호 -->
				<!-- 가입하기 -->
				<div class="content_submit">
					<input id="join_submit" type="submit" value="가입하기" />
				</div>
				<!-- // 가입하기 -->
			</div>

		</form>
	</div>

	<script type="text/javascript">
    var inputId = document.getElementById('id');
    var inputPw = document.getElementById('pw');
    var inputPw2 = document.getElementById('pw2');

    inputId.onblur = function() {
      var id = inputId.value;
      var idConfirm = document.getElementById('id_confirm');
      var idReg = /^[a-z0-9][a-z0-9_\-]{4,19}$/;
      console.log(idReg.test(id));

      if (id === '') { // 빈칸
        idConfirm.style.color = 'red';
        idConfirm.innerHTML = '필수 정보입니다.';
      } else if (id === 'test') { // 입력된 아이디가 test면
        idConfirm.style.color = 'red';
        idConfirm.innerHTML = '이미 사용중이거나 탈퇴한 아이디입니다.';
      } else if (!idReg.test(id)) { // 입력받은 아이디에 정규표현식이 없으면
        idConfirm.style.color = 'red';
        idConfirm.innerHTML = '5~20자의 영문 소문자, 숫자와 특수기호(_), (-)만 사용 가능합니다.';
      } else {
        idConfirm.style.color = 'green';
        idConfirm.innerHTML = '멋진 아이디네요!';
      }

    } // end idCheck()

    inputPw.onblur = function() {
      var pw = inputPw.value;
      var pwConfirm = document.getElementById('pw_confirm');
      var pwReg = /^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^*()\-_=+\\\|\[\]{};:\'",.<>\/?])*.{8,16}$/;
      console.log(pwReg.test(pw));

      if (pw === '') {
        pwConfirm.innerHTML = '필수 정보입니다.';
      } else if (!pwReg.test(pw)) {
        pwConfirm.innerHTML = '8~16자 영문 대 소문자, 숫자, 특수문자를 사용하세요.';
      } else {
        pwConfirm.innerHTML = '';
      }
    } // end pwCheck()

    inputPw2.onblur = function() {
      var pw = inputPw.value;
      var pw2 = inputPw2.value;
      var pw2Confirm = document.getElementById('pw2_confirm');
      console.log(pw);
      console.log(pw2);

      if (pw2 === '') {
        pw2Confirm.innerHTML = '필수 정보입니다.';
      } else if (!pw2.match(pw) || !pw.match(pw2)) {
        pw2Confirm.innerHTML = '비밀번호가 일치하지 않습니다.';
      } else {
        pw2Confirm.innerHTML = '';
      }
    } // end pw2Check()
  </script>

</body>
</html>